#!/bin/bash
# @gf3’s Sexy Bash Prompt, inspired by “Extravagant Zsh Prompt”
# Shamelessly copied from https://github.com/gf3/dotfiles

default_username1=
default_username2=

if [[ $COLORTERM = gnome-* && $TERM = xterm ]] && infocmp gnome-256color >/dev/null 2>&1; then
  export TERM=gnome-256color
elif infocmp xterm-256color >/dev/null 2>&1; then
  export TERM=xterm-256color
fi

if [ -x /usr/bin/tput ] && tput setaf 1 &> /dev/null; then
  tput sgr0
  BOLD=$(tput bold)
  RESET=$(tput sgr0)
  BLACK=$(tput setaf 0)
  BLUE=$(tput setaf 33)
  CYAN=$(tput setaf 37)
  RED=$(tput setaf 124)
  VIOLET=$(tput setaf 61)
  YELLOW=$(tput setaf 136)
  MAGENTA=$(tput setaf 9)
  ORANGE=$(tput setaf 172)
  GREEN=$(tput setaf 190)
  PURPLE=$(tput setaf 141)
  WHITE=$(tput setaf 7)
else
  BOLD=""
  RESET="\e[0m"
  BLACK="\e[1;30m"
  BLUE="\e[1;34m"
  CYAN="\e[1;36m"
  GREEN="\e[1;32m"
  ORANGE="\e[1;33m"
  PURPLE="\e[1;35m"
  RED="\e[1;31m"
  MAGENTA="\e[1;31m"
  VIOLET="\e[1;35m"
  WHITE="\e[1;37m"
  YELLOW="\e[1;33m"
fi

# Only show username/host if not default
function usernamehost() {
  if [[ $USER != $default_username1 && $USER != $default_username2 ]]; then
    echo "${BOLD}${MAGENTA}${USER}${RESET} at ${BOLD}${ORANGE}${HOSTNAME}${RESET} in ";
  fi
}

PS1="\n\$(usernamehost)\[${BOLD}${GREEN}\]\w\[$RESET\]\[$WHITE\]\n\$ \[$RESET\]"
